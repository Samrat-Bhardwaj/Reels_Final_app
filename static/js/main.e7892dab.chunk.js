(this.webpackJsonpinstag=this.webpackJsonpinstag||[]).push([[0],{124:function(e,t,a){},128:function(e,t){e.exports={apiKey:"AIzaSyBIpIf1lcp9Gn9E3lU0rMbCNlJoUipbOec",authDomain:"reels-626a8.firebaseapp.com",projectId:"reels-626a8",storageBucket:"reels-626a8.appspot.com",messagingSenderId:"830750186576",appId:"1:830750186576:web:78de9e119d3ff991fdc555",measurementId:"G-JH0YEC56DZ"}},131:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(13),s=a.n(i),r=(a(124),a(40)),o=a(15),l=a(10),u=a(38),d=a(50),j=(a(125),a(147),a(148),a(128));d.a.initializeApp(j);var b=d.a.auth(),p=d.a.firestore(),m={users:p.collection("users"),posts:p.collection("posts"),comments:p.collection("comments"),getCurrentTimeStamp:d.a.firestore.FieldValue.serverTimestamp,formatDoc:function(e){return Object(u.a)({id:e.id},e.data())}},h=d.a.storage(),O=(d.a,a(2)),f=c.a.createContext();function v(){return Object(n.useContext)(f)}function x(e){var t=e.children,a=Object(n.useState)(),c=Object(l.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)(!0),o=Object(l.a)(r,2),u=o[0],d=o[1];Object(n.useEffect)((function(){return b.onAuthStateChanged((function(e){console.log(e),s(e),d(!1)}))}),[]);var j={currentUser:i,login:function(e,t){return b.signInWithEmailAndPassword(e,t)},signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},logout:function(){return b.signOut()}};return Object(O.jsx)(f.Provider,{value:j,children:!u&&t})}var g=a(16),y=a.n(g),N=a(24),k=(a(131),a.p+"static/media/insta.3686ea84.png"),w=a(182),I=a(185),C=a(190),S=a(187),D=a(191),P=a(66),E=a.p+"static/media/Instagram.895005c3.JPG",F=a(198),T=a(189),L=a(27),U=(a(132),a.p+"static/media/img1.678f281f.jpg"),z=a.p+"static/media/img2.25af168d.jpg",W=a.p+"static/media/img3.7c528407.jpg",B=a.p+"static/media/img4.cc488f03.jpg",A=a.p+"static/media/img5.21a5f717.jpg",R=a(199);function M(){var e=Object(w.a)({root:{width:"100%"},root2:{width:"100%",marginTop:"3%"},buton:{backgroundColor:"#0095f6",marginBottom:"3%",marginLeft:"4%",marginRight:"4%"},email:{display:"block"},password:{},link:{display:"flex",justifyContent:"center",marginTop:"2%"},link2:{display:"inline",marginLeft:"1%"},typo:{display:"flex",justifyContent:"center"}}),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],j=e(),b=v().login,p=Object(n.useState)(""),m=Object(l.a)(p,2),h=m[0],f=m[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),M=g[0],J=g[1],G=Object(o.g)();function Y(){return(Y=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,f(""),J(!0),e.next=6,b(c,u);case 6:J(!1),G.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),f("Failed to log in"),J(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("div",{className:"imgcar",style:{backgroundImage:"url("+k+")",backgroundSize:"cover"},children:Object(O.jsx)("div",{className:"caro",children:Object(O.jsx)(L.a,{visibleSlides:1,totalSlides:5,step:3,naturalSlideWidth:238,naturalSlideHeight:423,hasMasterSpinner:!0,isPlaying:!0,infinite:!0,dragEnabled:!1,touchEnabled:!1,children:Object(O.jsxs)(L.d,{children:[Object(O.jsx)(L.c,{index:0,children:Object(O.jsx)(L.b,{src:U})}),Object(O.jsx)(L.c,{index:1,children:Object(O.jsx)(L.b,{src:z})}),Object(O.jsx)(L.c,{index:2,children:Object(O.jsx)(L.b,{src:W})}),Object(O.jsx)(L.c,{index:3,children:Object(O.jsx)(L.b,{src:B})}),Object(O.jsx)(L.c,{index:4,children:Object(O.jsx)(L.b,{src:A})})]})})})}),Object(O.jsxs)("div",{className:"login-form",children:[Object(O.jsxs)(I.a,{className:j.root,variant:"outlined",children:[Object(O.jsxs)(S.a,{children:[Object(O.jsx)("div",{className:"insta-head",children:Object(O.jsx)("img",{src:E})}),h&&Object(O.jsx)(R.a,{severity:"error",children:h}),Object(O.jsx)(F.a,{InputLabelProps:{style:{width:"-webkit-fill-available"}},className:j.email,margin:"dense",onChange:function(e){!function(e){i(e.target.value)}(e)},id:"outlined-basic",label:"Enter Email",variant:"outlined",fullWidth:!0,size:"small"}),Object(O.jsx)(F.a,{InputLabelProps:{style:{width:"-webkit-fill-available"}},className:j.password,margin:"dense",onChange:function(e){!function(e){d(e.target.value)}(e)},id:"outlined-basic",label:"Password",variant:"outlined",fullWidth:!0,size:"small"}),Object(O.jsx)(P.a,{variant:"subtitle1",children:Object(O.jsx)(T.a,{className:j.link,variant:"inherit",underline:"none",href:"#",children:"Forget Password ?"})})]}),Object(O.jsx)(C.a,{children:Object(O.jsx)(D.a,{disabled:M,onClick:function(e){return Y.apply(this,arguments)},className:j.buton,fullWidth:!0,variant:"contained",color:"primary",children:"Log In"})})]}),Object(O.jsx)(I.a,{className:j.root2,variant:"outlined",children:Object(O.jsx)(S.a,{children:Object(O.jsxs)(P.a,{className:j.typo,variant:"subtitle1",children:["Don't have an account? ",Object(O.jsx)(T.a,{className:j.link2,variant:"inherit",underline:"none",href:"/signup",children:"Sign up"})]})})})]})]})}a(137);var J=a(93),G=a.n(J);function Y(){var e=Object(w.a)({root:{width:"100%"},root2:{width:"100%",marginTop:"3%"},buton:{backgroundColor:"#0095f6",marginBottom:"3%",marginLeft:"4%",marginRight:"4%"},buton2:{display:"flex",alignContent:"center",justifyItems:"center",marginTop:"5%"},email:{display:"block"},link2:{display:"inline",marginLeft:"1%"},typo:{display:"flex",justifyContent:"center"},typoh:{color:"#718093",textAlign:"center"},typo3:{textAlign:"center"}}),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],f=b[1],x=Object(n.useState)(null),g=Object(l.a)(x,2),k=g[0],L=g[1],U=e(),z=Object(n.useState)(""),W=Object(l.a)(z,2),B=W[0],A=W[1],M=Object(n.useState)(!1),J=Object(l.a)(M,2),Y=J[0],H=J[1],V=Object(o.g)(),_=v().signup,q=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=k){e.next=4;break}return A("Please upload your profile Image"),setTimeout((function(){A("")}),2e3),e.abrupt("return");case 4:return e.prev=4,A(""),H(!0),e.next=9,_(c,u);case 9:t=e.sent,a=t.user.uid,(n=h.ref("/users/".concat(a,"/ProfileImage")).put(k)).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){A("Failed to upload File")}),(function(){n.snapshot.ref.getDownloadURL().then((function(e){m.users.doc(a).set({email:c,userId:a,fullName:p,createdAt:m.getCurrentTimeStamp(),profileUrl:e,postIds:[]})}))})),V.push("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),A("Failed to create an account "+e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"signuoWrapper",children:Object(O.jsxs)("div",{className:"signupStyle",children:[Object(O.jsxs)(I.a,{className:U.root,variant:"outlined",children:[Object(O.jsxs)(S.a,{children:[Object(O.jsx)("div",{className:"insta-head",children:Object(O.jsx)("img",{src:E})}),B&&Object(O.jsx)(R.a,{severity:"error",children:B}),Object(O.jsx)(P.a,{className:U.typoh,variant:"subtitle1",children:"Sign up to see photos and videos from your friends."}),Object(O.jsx)(F.a,{InputLabelProps:{style:{width:"-webkit-fill-available"}},className:U.email,margin:"dense",onChange:function(e){!function(e){i(e.target.value)}(e)},id:"outlined-basic",label:"Enter Email",variant:"outlined",fullWidth:!0,size:"small"}),Object(O.jsx)(F.a,{InputLabelProps:{style:{width:"-webkit-fill-available"}},className:U.password,margin:"dense",onChange:function(e){!function(e){d(e.target.value)}(e)},id:"outlined-basic",label:"Password",variant:"outlined",fullWidth:!0,size:"small"}),Object(O.jsx)(F.a,{InputLabelProps:{style:{width:"-webkit-fill-available"}},margin:"dense",onChange:function(e){!function(e){f(e.target.value)}(e)},id:"outlined-basic",label:"Full Name",variant:"outlined",fullWidth:!0,size:"small"}),Object(O.jsxs)(D.a,{variant:"outlined",color:"secondary",component:"label",startIcon:Object(O.jsx)(G.a,{}),className:U.buton2,children:["Upload Profile Image",Object(O.jsx)("input",{accept:"image/*",type:"file",hidden:!0,onChange:function(e){return function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];null!=a&&L(a)}(e)}})]})]}),Object(O.jsx)(C.a,{children:Object(O.jsx)(D.a,{disabled:Y,onClick:q,className:U.buton,fullWidth:!0,variant:"contained",color:"primary",children:"Sign up"})}),Object(O.jsx)(S.a,{children:Object(O.jsx)(P.a,{className:U.typo3,variant:"subtitle1",children:"By signing up, you agree to our Terms , Data Policy and Cookies Policy ."})})]}),Object(O.jsx)(I.a,{className:U.root2,variant:"outlined",children:Object(O.jsx)(S.a,{children:Object(O.jsxs)(P.a,{className:U.typo,variant:"subtitle1",children:["Have an account? ",Object(O.jsx)(T.a,{className:U.link2,variant:"inherit",underline:"none",href:"/login",children:"Log In"})]})})})]})})}var H=a(29),V=a(192),_=a(193),q=a(188),K=a(204),Z=a(104),Q=a(94),X=a.n(Q),$=a(85),ee=a.n($),te=a(55),ae=a.n(te),ne=a(95),ce=a.n(ne),ie=(a(139),a(86)),se=a.n(ie),re=a(203),oe=Object(w.a)((function(e){var t,a;return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(2),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(H.a)(t,e.breakpoints.up("md"),{width:"20ch"}),Object(H.a)(t,"border","1px solid #636e72"),Object(H.a)(t,"color","#636e72"),Object(H.a)(t,"height","10px"),Object(H.a)(t,"borderRadius","5%"),t),sectionDesktop:(a={display:"none"},Object(H.a)(a,e.breakpoints.up("md"),{display:"flex"}),Object(H.a)(a,"color","#636e72"),Object(H.a)(a,"marginRight","15%"),a),sectionMobile:Object(H.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),appb:{backgroundColor:"white"},navicon:{color:"black",marginRight:"1%",cursor:"pointer"},navicon2:{color:"black",cursor:"pointer"},small:{width:e.spacing(3),height:e.spacing(3)}}}));function le(e){var t,a=oe(),n=c.a.useState(null),i=Object(l.a)(n,2),s=i[0],r=i[1],u=c.a.useState(null),d=Object(l.a)(u,2),j=d[0],b=d[1],p=Object(o.g)(),m=Boolean(s),h=Boolean(j),f=v(),x=f.logout,g=f.currentUser,k=function(){b(null)},w=function(){p.push("/profile/".concat(g.uid))},I=function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:p.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){p.push("/")},S="primary-search-account-menu",D=Object(O.jsxs)(Z.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:S,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:function(){r(null),k()},children:[Object(O.jsxs)(K.a,{className:a.item,onClick:w,children:[Object(O.jsx)(ee.a,{}),Object(O.jsx)("p",{children:"\xa0"}),"Profile"]}),Object(O.jsxs)(K.a,{className:a.item,onClick:I,children:[Object(O.jsx)(se.a,{}),Object(O.jsx)("p",{children:"\xa0"}),"Logout"]})]}),P="primary-search-account-menu-mobile",F=Object(O.jsxs)(Z.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:P,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:k,children:[Object(O.jsxs)(K.a,{className:a.item,onClick:w,children:[Object(O.jsx)(ee.a,{}),Object(O.jsx)("p",{children:"\xa0"})," ",Object(O.jsx)("p",{children:"Profile"})]}),Object(O.jsxs)(K.a,{className:a.item,onClick:I,children:[Object(O.jsx)(se.a,{}),Object(O.jsx)("p",{children:"\xa0"})," Logout"]})]});return Object(O.jsxs)("div",{className:a.grow,children:[Object(O.jsx)(V.a,{className:a.appb,position:"fixed",children:Object(O.jsxs)(_.a,{children:[Object(O.jsx)("div",{className:"insta-head2",children:Object(O.jsx)("img",{src:E,onClick:C,style:{cursor:"pointer"}})}),Object(O.jsx)("div",{className:a.grow}),Object(O.jsx)(X.a,{onClick:C,className:a.navicon}),Object(O.jsx)(ce.a,{className:a.navicon2,onClick:function(){window.open("https://www.linkedin.com/in/samrat-bhardwaj-aa9931182/","_blank").focus()}}),Object(O.jsx)("div",{className:a.sectionDesktop,children:Object(O.jsx)(q.a,{edge:"end","aria-label":"account of current user","aria-controls":S,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},children:Object(O.jsx)(re.a,{alt:"Remy Sharp",src:null===e||void 0===e||null===(t=e.userData)||void 0===t?void 0:t.profileUrl,className:a.small})})}),Object(O.jsx)("div",{className:a.sectionMobile,children:Object(O.jsx)(q.a,{"aria-label":"show more","aria-controls":P,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},children:Object(O.jsx)(ae.a,{})})})]})}),F,D]})}a(140);var ue=a(96),de=a(97),je=a(106),be=a(103),pe=(a(141),function(e){Object(je.a)(a,e);var t=Object(be.a)(a);function a(e,n){var c;return Object(ue.a)(this,a),(c=t.call(this,e,n)).handleMute=function(e){e.preventDefault(),e.target.muted=!e.target.muted},c.handleAutoScroll=function(e){var t=s.a.findDOMNode(e.target).parentNode.nextSibling;t&&(t.scrollIntoView({behavior:"smooth"}),e.target.muted=!0)},c}return Object(de.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("video",{onEnded:this.handleAutoScroll,src:this.props.source,className:"video-styles",onClick:function(t){return e.handleMute(t)},id:this.props.id,muted:"muted",type:"video/mp4"})})}}]),a}(n.Component)),me=a(101),he=a.n(me),Oe=a(196),fe=a(98),ve=a(100),xe=a.n(ve),ge=(a(142),a(194)),ye=a(42),Ne=a(65),ke=a.n(Ne);function we(e){var t=e.userData,a=void 0===t?null:t,c=e.postData,i=void 0===c?null:c,s=Object(w.a)({like:{color:"#e74c3c",cursor:"pointer"},unlike:{cursor:"pointer",color:"white"}});Object(n.useEffect)((function(){var e=!!i.likes.includes(null===a||void 0===a?void 0:a.userId);d(e)}),[i]);var r=Object(n.useState)(null),o=Object(l.a)(r,2),u=o[0],d=o[1],j=function(){if(1==u){var e=i.likes.filter((function(e){return e!=a.userId}));m.posts.doc(i.postId).update({likes:e}).then((function(){})).catch((function(e){}))}else{var t=[].concat(Object(ye.a)(i.likes),[a.userId]);m.posts.doc(i.postId).update({likes:t}).then((function(){})).catch((function(e){}))}},b=s();return Object(O.jsx)("div",{children:null!=u?Object(O.jsx)(O.Fragment,{children:0==u?Object(O.jsx)(ke.a,{className:"".concat(b.unlike," icon-styling"),onClick:j}):Object(O.jsx)(ke.a,{className:"".concat(b.like," icon-styling"),onClick:j})}):Object(O.jsx)(O.Fragment,{})})}var Ie=a(99),Ce=a.n(Ie);function Se(e){var t=e.userData,a=void 0===t?null:t,c=e.postData,i=void 0===c?null:c,s=Object(w.a)({like:{color:"#e74c3c",cursor:"pointer"},unlike:{cursor:"pointer",color:"black"}});Object(n.useEffect)((function(){var e=!!i.likes.includes(null===a||void 0===a?void 0:a.userId);d(e)}),[]);var r=Object(n.useState)(null),o=Object(l.a)(r,2),u=o[0],d=o[1],j=function(){if(1==u){var e=i.likes.filter((function(e){return e!=a.userId}));m.posts.doc(i.postId).update({likes:e}).then((function(){d(!1)})).catch((function(e){}))}else{var t=[].concat(Object(ye.a)(i.likes),[a.userId]);m.posts.doc(i.postId).update({likes:t}).then((function(){d(!0)})).catch((function(e){}))}},b=s();return Object(O.jsx)("div",{children:null!=u?Object(O.jsx)(O.Fragment,{children:0==u?Object(O.jsx)(Ce.a,{className:b.unlike,onClick:j}):Object(O.jsx)(ke.a,{className:b.like,onClick:j})}):Object(O.jsx)(O.Fragment,{})})}var De=a(202),Pe=a(195);a(143);function Ee(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],i=a[1],s=Object(w.a)({da:{marginRight:"2%",marginTop:"2%"}})();return Object(n.useEffect)(Object(N.a)(y.a.mark((function t(){var a,n,c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],n=0;case 2:if(!(n<e.postData.comments.length)){t.next=11;break}return c=e.postData.comments[n],t.next=6,m.comments.doc(c).get();case 6:s=t.sent,a.push(s.data());case 8:n++,t.next=2;break;case 11:i(a);case 12:case"end":return t.stop()}}),t)}))),[e.postData]),Object(O.jsx)(O.Fragment,{children:null==c?Object(O.jsx)(ge.a,{}):c.map((function(e,t){return Object(O.jsxs)("div",{className:"comment-div",children:[Object(O.jsx)(re.a,{src:e.uUrl,className:s.da}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{style:{fontWeight:"bold",display:"inline-block"},children:e.uName}),"\xa0\xa0",e.text]})]},t)}))})}a(144);function Fe(e){var t=e.userData,a=e.postData,c=Object(w.a)({cbtn:{marginRight:"1%",marginTop:"4%"}})(),i=Object(n.useState)(""),s=Object(l.a)(i,2),r=s[0],o=s[1];return Object(O.jsxs)("div",{className:"emojibox",children:[Object(O.jsx)(F.a,{fullWidth:!0,value:r,label:"Add a comment",onChange:function(e){return function(e){var t=e.target.value;o(t)}(e)}}),Object(O.jsx)(D.a,{onClick:function(){var e={text:r,uName:t.fullName,uUrl:t.profileUrl};m.comments.add(e).then((function(e){m.posts.doc(a.postId).update({comments:[].concat(Object(ye.a)(a.comments),[e.id])})})).catch((function(e){})),o("")},disabled:""==r,className:c.cbtn,color:"primary",children:"Post"})]})}var Te=Object(w.a)({root:{width:"100%",padding:"0px"},loader:{position:"absolute",left:"50%",top:"50%"},typo:{marginLeft:"2%"},vac:{marginLeft:"3.5%",color:"#8e8e8e",cursor:"pointer"},dp:{marginLeft:"2%"},cc:{height:"50vh",overflowY:"auto"},seeComments:{height:"54vh",overflowY:"auto"},ci:{color:"white",left:"9%",cursor:"pointer"},mn:{color:"white"},tmn:{color:"white"}});function Le(e){var t=e.userData,a=void 0===t?null:t,i=Object(n.useState)(null),s=Object(l.a)(i,2),r=s[0],d=s[1],j=(Object(o.g)(),function(){d(null)}),b=Te(),p=Object(n.useState)(null),h=Object(l.a)(p,2),f=h[0],v=h[1],x=new IntersectionObserver(function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){var t=e.target.childNodes[0].getAttribute("id");console.log(t);var a=document.getElementById("".concat(t));a.play().then((function(){a.paused||1==e.isIntersecting||a.pause()}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{threshold:.85});return Object(n.useEffect)((function(){var e=[];return m.posts.orderBy("createdAt","desc").onSnapshot((function(t){e=[],t.forEach((function(t){var a=Object(u.a)(Object(u.a)({},t.data()),{},{postId:t.id});e.push(a)})),v(e)}))}),[]),Object(n.useEffect)((function(){if("object"==typeof window)return document.querySelectorAll(".videos").forEach((function(e){x.observe(e)})),function(){x.disconnect(),console.log("removed")}}),[f]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"place"}),null==f||null==a?Object(O.jsx)(ge.a,{className:b.loader}):Object(O.jsx)("div",{className:"video-container",id:"video-container",children:f.map((function(e,t){return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsxs)("div",{className:"videos",children:[Object(O.jsx)(pe,{source:e.pUrl,id:e.pId}),Object(O.jsxs)("div",{className:"fa",style:{display:"flex"},children:[Object(O.jsx)(re.a,{src:e.uProfile}),Object(O.jsx)("h4",{children:e.uName})]}),Object(O.jsx)("div",{className:"video-ticker",children:Object(O.jsx)(fe.a,{direction:"toRight",offset:"20%",mode:"smooth",children:function(e){e.index;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(P.a,{align:"center",variant:"subtitle2",className:b.tmn,children:[Object(O.jsx)(xe.a,{fontSize:"small",className:b.mn})," This is sample"]})})}})}),Object(O.jsx)(we,{userData:a,postData:e}),Object(O.jsx)(he.a,{onClick:function(){return t=e.pId,void d(t);var t},className:"".concat(b.ci," icon-styling")}),Object(O.jsx)(De.a,{maxWidth:"md",onClose:j,"aria-labelledby":"customized-dialog-title",open:r===e.pId,children:Object(O.jsx)(Pe.a,{children:Object(O.jsxs)("div",{className:"dcontainer",children:[Object(O.jsx)("div",{className:"video-part",children:Object(O.jsx)("video",{autoPlay:!0,className:"video-styles2",controls:!0,id:e.id,muted:"muted",type:"video/mp4",children:Object(O.jsx)("source",{src:e.pUrl,type:"video/webm"})})}),Object(O.jsxs)("div",{className:"info-part",children:[Object(O.jsxs)(I.a,{children:[Object(O.jsx)(Oe.a,{avatar:Object(O.jsx)(re.a,{src:null===e||void 0===e?void 0:e.uProfile,"aria-label":"recipe",className:b.avatar}),action:Object(O.jsx)(q.a,{"aria-label":"settings",children:Object(O.jsx)(ae.a,{})}),title:null===e||void 0===e?void 0:e.uName}),Object(O.jsx)("hr",{style:{border:"none",height:"1px",color:"#dfe6e9",backgroundColor:"#dfe6e9"}}),Object(O.jsx)(S.a,{className:b.seeComments,children:Object(O.jsx)(Ee,{userData:a,postData:e})})]}),Object(O.jsxs)("div",{className:"extra",children:[Object(O.jsxs)("div",{className:"likes",children:[Object(O.jsx)(Se,{userData:a,postData:e}),Object(O.jsxs)(P.a,{className:b.typo,variant:"body2",children:["Liked By ",0==e.likes.length?"nobody":" others"]})]}),Object(O.jsx)(Fe,{userData:a,postData:e})]})]})]})})})]}),Object(O.jsx)("div",{className:"place"})]},t)}))})]})}var Ue=a(201),ze=a(102),We=a.n(ze),Be=a(197);function Ae(e){var t=Object(w.a)({}),a=Object(n.useState)(null),c=Object(l.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)(!1),o=Object(l.a)(r,2),u=o[0],d=o[1],j=t(),b=["video/mp4","video/webm","video/ogg"];return Object(O.jsx)("div",{children:null!=i?Object(O.jsx)(R.a,{severity:"error",children:i}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{color:"primary",type:"file",onChange:function(t){var a,n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0];if(null==n)return s("Please select a file"),void setTimeout((function(){s(null)}),2e3);if(-1==b.indexOf(n.type))return s("Please select a video file"),void setTimeout((function(){s(null)}),2e3);if(n.size/1048576>100)return s("The selected file is very big"),void setTimeout((function(){s(null)}),2e3);var c=Object(Ue.a)(),i=h.ref("/posts/".concat(e.userData.userId,"/").concat(n.name)).put(n);i.on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(){s("There was an error in uploading the file")}),(function(){d(!0),i.snapshot.ref.getDownloadURL().then((function(t){var a,n,i,r={comments:[],likes:[],pId:c,pUrl:t,uName:null===e||void 0===e||null===(a=e.userData)||void 0===a?void 0:a.fullName,uProfile:null===e||void 0===e||null===(n=e.userData)||void 0===n?void 0:n.profileUrl,userId:null===e||void 0===e||null===(i=e.userData)||void 0===i?void 0:i.userId,createdAt:m.getCurrentTimeStamp()};m.posts.add(r).then(function(){var t=Object(N.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.users.doc(e.userData.userId).update({postIds:[].concat(Object(ye.a)(e.userData.postIds),[a.id])});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){d(!1)})).catch((function(e){s(e),setTimeout((function(){s(null)}),2e3),d(!1)}))}))}))},id:"icon-button-file",style:{display:"none"}}),Object(O.jsx)("label",{htmlFor:"icon-button-file",children:Object(O.jsxs)(D.a,{disabled:u,variant:"outlined",component:"span",className:j.button,size:"medium",color:"secondary",children:[Object(O.jsx)(We.a,{className:j.extendedIcon}),"\xa0 Upload Video"]})}),1==u?Object(O.jsx)(Be.a,{color:"secondary",style:{marginTop:"2%"}}):Object(O.jsx)(O.Fragment,{})]})})}function Re(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],i=v().currentUser;return Object(n.useEffect)((function(){var e=m.users.doc(i.uid).onSnapshot((function(e){c(e.data())}));return function(){e()}}),[i]),Object(O.jsx)(O.Fragment,{children:null==a?Object(O.jsx)(ge.a,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(le,{userData:a}),Object(O.jsx)("div",{className:"portion",style:{height:"9.5vh"}}),Object(O.jsx)("div",{className:"feed-container",children:Object(O.jsxs)("div",{className:"center",children:[Object(O.jsx)(Ae,{userData:a}),Object(O.jsx)(Le,{userData:a})]})})]})})}var Me=a(105);function Je(e){var t=e.component,a=Object(Me.a)(e,["component"]),n=v().currentUser;return Object(O.jsx)(o.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return n?Object(O.jsx)(t,Object(u.a)({},e)):Object(O.jsx)(o.a,{to:"/login"})}}))}a(145);var Ge=Object(w.a)({bavatar:{height:"23vh",width:"40%",margin:"0"},tfw:{fontWeight:"300"},tfw2:{fontWeight:"500",marginLeft:"2%"},seeComments:{height:"54vh",overflowY:"auto"}});function Ye(){var e,t=c.a.useState(null),a=Object(l.a)(t,2),i=a[0],s=a[1],r=Object(n.useState)({}),u=Object(l.a)(r,2),d=u[0],j=u[1],b=function(){s(null)},p=Ge(),h=Object(n.useState)(null),f=Object(l.a)(h,2),x=f[0],g=f[1],k=Object(n.useState)(null),w=Object(l.a)(k,2),C=w[0],D=w[1],E=(v().currentUser,Object(o.h)().id);return Object(n.useEffect)((function(){var e=m.users.doc(E).onSnapshot((function(e){g(e.data())}));return function(){e()}}),[E]),Object(n.useEffect)(Object(N.a)(y.a.mark((function e(){var t,a,n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],t=[],null==x){e.next=14;break}console.log(x.postIds.length),a=0;case 5:if(!(a<x.postIds.length)){e.next=14;break}return n=x.postIds[a],e.next=9,m.posts.doc(n).get();case 9:c=e.sent,t.push(c.data());case 11:a++,e.next=5;break;case 14:D(t);case 15:case"end":return e.stop()}}),e)}))),[x]),Object(O.jsx)(O.Fragment,{children:null==x||null==C?Object(O.jsx)(ge.a,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(le,{userData:x}),Object(O.jsx)("div",{className:"spacer"}),Object(O.jsxs)("div",{className:"pg-container",children:[Object(O.jsxs)("div",{className:"upper-part",children:[Object(O.jsx)("div",{className:"bimg",children:Object(O.jsx)("img",{src:null===x||void 0===x?void 0:x.profileUrl})}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)(P.a,{align:"center",variant:"h6",className:p.tfw,children:null===x||void 0===x?void 0:x.fullName}),Object(O.jsxs)("div",{className:"post-cal",children:[Object(O.jsx)(P.a,{display:"inline",align:"center",variant:"subtitle1",className:p.tfw,children:"No of Posts"}),Object(O.jsxs)(P.a,{display:"inline",align:"center",variant:"subtitle1",className:p.tfw2,children:[null===x||void 0===x||null===(e=x.postIds)||void 0===e?void 0:e.length," Posts"]})]}),Object(O.jsxs)("div",{className:"post-cal",children:[Object(O.jsx)(P.a,{display:"inline",align:"center",variant:"subtitle1",className:p.tfw,children:"Email"}),Object(O.jsx)(P.a,{display:"inline",align:"center",variant:"subtitle1",className:p.tfw2,children:null===x||void 0===x?void 0:x.email})]})]})]}),Object(O.jsx)("div",{className:"uposts",children:C.map((function(e,t){return Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsx)("video",{className:"u-video",src:e.pUrl,onClick:function(){return function(e){s(e)}(e.pId)}}),Object(O.jsx)(De.a,{maxWidth:"md",onClose:b,"aria-labelledby":"customized-dialog-title",open:i===e.pId,children:Object(O.jsx)(Pe.a,{children:Object(O.jsxs)("div",{className:"dcontainer",children:[Object(O.jsx)("div",{className:"video-part",children:Object(O.jsx)("video",{autoPlay:!0,className:"video-styles2",controls:!0,id:e.id,muted:"muted",type:"video/mp4",children:Object(O.jsx)("source",{src:e.pUrl,type:"video/webm"})})}),Object(O.jsxs)("div",{className:"info-part",children:[Object(O.jsxs)(I.a,{children:[Object(O.jsx)(Oe.a,{avatar:Object(O.jsx)(re.a,{src:null===e||void 0===e?void 0:e.uProfile,"aria-label":"recipe",className:p.avatar}),action:Object(O.jsx)(q.a,{"aria-label":"settings",children:Object(O.jsx)(ae.a,{})}),title:null===e||void 0===e?void 0:e.uName}),Object(O.jsx)("hr",{style:{border:"none",height:"1px",color:"#dfe6e9",backgroundColor:"#dfe6e9"}}),Object(O.jsx)(S.a,{className:p.seeComments,children:Object(O.jsx)(Ee,{userData:x,postData:e,comments:d,setComments:j})})]}),Object(O.jsxs)("div",{className:"extra",children:[Object(O.jsxs)("div",{className:"likes",children:[Object(O.jsx)(we,{userData:x,postData:e}),Object(O.jsxs)(P.a,{className:p.typo,variant:"body2",children:["Liked By ",0==e.likes.length?"nobody":" others"]})]}),Object(O.jsx)(Fe,{userData:x,postData:e,acomments:d,setComments:j})]})]})]})})})]},t)}))})]})]})})}var He=function(){return Object(O.jsx)(r.a,{children:Object(O.jsx)(x,{children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(Je,{exact:!0,path:"/",component:Re}),Object(O.jsx)(o.b,{exact:!0,path:"/login",component:M}),Object(O.jsx)(o.b,{exact:!0,path:"/signup",component:Y}),Object(O.jsx)(o.b,{exact:!0,path:"/profile/:id",component:Ye})]})})})},Ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(He,{}),document.getElementById("root")),Ve()}},[[146,1,2]]]);
//# sourceMappingURL=main.e7892dab.chunk.js.map